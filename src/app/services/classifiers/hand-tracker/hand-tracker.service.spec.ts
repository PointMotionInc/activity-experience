import { TestBed } from '@angular/core/testing';
import { Results } from '@mediapipe/pose';
import { PoseModelAdapter } from '../../pose-model-adapter/pose-model-adapter.service';
import { HandTrackerService } from './hand-tracker.service';

describe('HandRaisedService', () => {
  let service: HandTrackerService;
  let poseModelAdapter: PoseModelAdapter;

  // mock results from mediapipe pose to test the service.
  const noHandsRaised: Pick<Results, 'poseLandmarks'> = {
    poseLandmarks: [
      {
        x: 0.5309268832206726,
        y: 0.16922087967395782,
        z: -0.2282911092042923,
        visibility: 0.9999962449073792,
      },
      {
        x: 0.5353615283966064,
        y: 0.15612584352493286,
        z: -0.2140180617570877,
        visibility: 0.9999855756759644,
      },
      {
        x: 0.5375186800956726,
        y: 0.15652376413345337,
        z: -0.2140618860721588,
        visibility: 0.9999846816062927,
      },
      {
        x: 0.5401343107223511,
        y: 0.15686750411987305,
        z: -0.2140618860721588,
        visibility: 0.9999842643737793,
      },
      {
        x: 0.5260557532310486,
        y: 0.1559658944606781,
        z: -0.2144414484500885,
        visibility: 0.9999843835830688,
      },
      {
        x: 0.522473156452179,
        y: 0.15641091763973236,
        z: -0.21444182097911835,
        visibility: 0.9999836683273315,
      },
      {
        x: 0.5195726752281189,
        y: 0.15697355568408966,
        z: -0.2144417017698288,
        visibility: 0.9999834299087524,
      },
      {
        x: 0.5441374778747559,
        y: 0.1657678335905075,
        z: -0.12464509159326553,
        visibility: 0.9999732971191406,
      },
      {
        x: 0.5147745609283447,
        y: 0.16750729084014893,
        z: -0.126882404088974,
        visibility: 0.9999673366546631,
      },
      {
        x: 0.5359150767326355,
        y: 0.18653704226016998,
        z: -0.19458715617656708,
        visibility: 0.9999948143959045,
      },
      {
        x: 0.524621844291687,
        y: 0.18758291006088257,
        z: -0.19533824920654297,
        visibility: 0.9999934434890747,
      },
      {
        x: 0.568425714969635,
        y: 0.2644989490509033,
        z: -0.06504364311695099,
        visibility: 0.9999814629554749,
      },
      {
        x: 0.4928365647792816,
        y: 0.2587945759296417,
        z: -0.06294584274291992,
        visibility: 0.9999734163284302,
      },
      {
        x: 0.5806306004524231,
        y: 0.36962491273880005,
        z: -0.017030799761414528,
        visibility: 0.9905900955200195,
      },
      {
        x: 0.4778107702732086,
        y: 0.3690553307533264,
        z: -0.02451303042471409,
        visibility: 0.9812389612197876,
      },
      {
        x: 0.5969548225402832,
        y: 0.46090275049209595,
        z: -0.09337128698825836,
        visibility: 0.984775185585022,
      },
      {
        x: 0.4607425332069397,
        y: 0.4603809416294098,
        z: -0.1021076887845993,
        visibility: 0.972942054271698,
      },
      {
        x: 0.6013237237930298,
        y: 0.49054837226867676,
        z: -0.11472763866186142,
        visibility: 0.9674825072288513,
      },
      {
        x: 0.4553842544555664,
        y: 0.4917130470275879,
        z: -0.1254875212907791,
        visibility: 0.9475940465927124,
      },
      {
        x: 0.5971983671188354,
        y: 0.49068471789360046,
        z: -0.1447354257106781,
        visibility: 0.9703102111816406,
      },
      {
        x: 0.45854902267456055,
        y: 0.4910869300365448,
        z: -0.15766248106956482,
        visibility: 0.952237606048584,
      },
      {
        x: 0.5944200158119202,
        y: 0.4827406108379364,
        z: -0.10691889375448227,
        visibility: 0.9636757969856262,
      },
      {
        x: 0.4617408215999603,
        y: 0.4835831820964813,
        z: -0.11726014316082001,
        visibility: 0.9471015334129333,
      },
      {
        x: 0.5567737221717834,
        y: 0.4690495431423187,
        z: -0.002262236550450325,
        visibility: 0.9997970461845398,
      },
      {
        x: 0.5105863809585571,
        y: 0.4698319733142853,
        z: 0.0022169623989611864,
        visibility: 0.9998104572296143,
      },
      {
        x: 0.558428168296814,
        y: 0.6273779273033142,
        z: -0.00769594544544816,
        visibility: 0.9931877851486206,
      },
      {
        x: 0.5083616971969604,
        y: 0.6264130473136902,
        z: 0.00017940765246748924,
        visibility: 0.9929853677749634,
      },
      {
        x: 0.562896728515625,
        y: 0.7557618021965027,
        z: 0.12939712405204773,
        visibility: 0.989575207233429,
      },
      {
        x: 0.5047414898872375,
        y: 0.7647066116333008,
        z: 0.12977483868598938,
        visibility: 0.9903064370155334,
      },
      {
        x: 0.5563898682594299,
        y: 0.7729536294937134,
        z: 0.1360371708869934,
        visibility: 0.845815122127533,
      },
      {
        x: 0.511657178401947,
        y: 0.7806233167648315,
        z: 0.13594941794872284,
        visibility: 0.8631284832954407,
      },
      {
        x: 0.5685957670211792,
        y: 0.8105059266090393,
        z: 0.031120147556066513,
        visibility: 0.9829500317573547,
      },
      {
        x: 0.49227374792099,
        y: 0.8134823441505432,
        z: 0.03156239911913872,
        visibility: 0.984714150428772,
      },
    ],
  };
  const leftHandRaised: Pick<Results, 'poseLandmarks'> = {
    poseLandmarks: [
      {
        x: 0.48863473534584045,
        y: 0.2318771928548813,
        z: -0.20643961429595947,
        visibility: 0.9999964237213135,
      },
      {
        x: 0.49236851930618286,
        y: 0.21669059991836548,
        z: -0.18686233460903168,
        visibility: 0.9999875426292419,
      },
      {
        x: 0.4954465329647064,
        y: 0.21648532152175903,
        z: -0.1868751049041748,
        visibility: 0.9999861717224121,
      },
      {
        x: 0.49838557839393616,
        y: 0.21622982621192932,
        z: -0.18691423535346985,
        visibility: 0.9999836087226868,
      },
      {
        x: 0.48216456174850464,
        y: 0.21775828301906586,
        z: -0.1884816586971283,
        visibility: 0.9999914765357971,
      },
      {
        x: 0.47875189781188965,
        y: 0.21802181005477905,
        z: -0.1884363740682602,
        visibility: 0.9999912977218628,
      },
      {
        x: 0.47561150789260864,
        y: 0.2184499055147171,
        z: -0.18840450048446655,
        visibility: 0.9999910593032837,
      },
      {
        x: 0.5027793645858765,
        y: 0.22304771840572357,
        z: -0.0739278569817543,
        visibility: 0.9999755024909973,
      },
      {
        x: 0.46928921341896057,
        y: 0.22649329900741577,
        z: -0.08223484456539154,
        visibility: 0.9999953508377075,
      },
      {
        x: 0.4946752190589905,
        y: 0.2475610375404358,
        z: -0.16429561376571655,
        visibility: 0.9999927282333374,
      },
      {
        x: 0.4814862310886383,
        y: 0.2478892207145691,
        z: -0.166679248213768,
        visibility: 0.9999963045120239,
      },
      {
        x: 0.531485915184021,
        y: 0.30294346809387207,
        z: -0.016350366175174713,
        visibility: 0.9999608993530273,
      },
      {
        x: 0.4441046118736267,
        y: 0.328346848487854,
        z: -0.008642997592687607,
        visibility: 0.9999620914459229,
      },
      {
        x: 0.5913905501365662,
        y: 0.2784813642501831,
        z: -0.11763551086187363,
        visibility: 0.9987456202507019,
      },
      {
        x: 0.4302050471305847,
        y: 0.4398074746131897,
        z: 0.01842936873435974,
        visibility: 0.9832034707069397,
      },
      {
        x: 0.5787126421928406,
        y: 0.1671607494354248,
        z: -0.2864842116832733,
        visibility: 0.9959831237792969,
      },
      {
        x: 0.4482716917991638,
        y: 0.5364991426467896,
        z: -0.06383593380451202,
        visibility: 0.968876838684082,
      },
      {
        x: 0.5708698630332947,
        y: 0.14040197432041168,
        z: -0.33129897713661194,
        visibility: 0.9819256067276001,
      },
      {
        x: 0.4532795548439026,
        y: 0.5643603801727295,
        z: -0.08592381328344345,
        visibility: 0.9315906763076782,
      },
      {
        x: 0.5635802149772644,
        y: 0.13408096134662628,
        z: -0.32550761103630066,
        visibility: 0.9802107810974121,
      },
      {
        x: 0.4598776698112488,
        y: 0.552788257598877,
        z: -0.10535434633493423,
        visibility: 0.9306356310844421,
      },
      {
        x: 0.5641061663627625,
        y: 0.14417634904384613,
        z: -0.2904650568962097,
        visibility: 0.9745861887931824,
      },
      {
        x: 0.4594481587409973,
        y: 0.5428636074066162,
        z: -0.07193125039339066,
        visibility: 0.9107533097267151,
      },
      {
        x: 0.518981397151947,
        y: 0.5668437480926514,
        z: -0.005914858542382717,
        visibility: 0.9999191164970398,
      },
      {
        x: 0.4696734547615051,
        y: 0.5672995448112488,
        z: 0.005928708706051111,
        visibility: 0.9998775124549866,
      },
      {
        x: 0.5255213379859924,
        y: 0.7485385537147522,
        z: 0.0031173531897366047,
        visibility: 0.9938401579856873,
      },
      {
        x: 0.4662559926509857,
        y: 0.7492490410804749,
        z: 0.03434082120656967,
        visibility: 0.99533611536026,
      },
      {
        // eslint-disable-next-line @typescript-eslint/no-loss-of-precision
        x: 0.5336685180664062,
        y: 0.9003891944885254,
        z: 0.1609119474887848,
        visibility: 0.989105224609375,
      },
      {
        x: 0.46162205934524536,
        y: 0.8850452899932861,
        z: 0.207971453666687,
        visibility: 0.9911415576934814,
      },
      {
        x: 0.5263861417770386,
        y: 0.9227174520492554,
        z: 0.17005334794521332,
        visibility: 0.9284688234329224,
      },
      {
        x: 0.4685606062412262,
        y: 0.9070162177085876,
        z: 0.21875986456871033,
        visibility: 0.915706992149353,
      },
      {
        x: 0.5509634613990784,
        y: 0.9464532732963562,
        z: 0.0547487847507,
        visibility: 0.9817891716957092,
      },
      {
        x: 0.45036762952804565,
        y: 0.9419533610343933,
        z: 0.10746288299560547,
        visibility: 0.9843273758888245,
      },
    ],
  };
  const rightHandRaised: Pick<Results, 'poseLandmarks'> = {
    poseLandmarks: [
      {
        x: 0.497124582529068,
        y: 0.23084940016269684,
        z: -0.23368719220161438,
        visibility: 0.9999755024909973,
      },
      {
        x: 0.5028818845748901,
        y: 0.21579256653785706,
        z: -0.2166922390460968,
        visibility: 0.9999477863311768,
      },
      {
        x: 0.5062655210494995,
        y: 0.2159166783094406,
        z: -0.2166813611984253,
        visibility: 0.9999292492866516,
      },
      {
        x: 0.5090731978416443,
        y: 0.2161163091659546,
        z: -0.21670563519001007,
        visibility: 0.99993896484375,
      },
      {
        x: 0.49243655800819397,
        y: 0.2163521647453308,
        z: -0.21289381384849548,
        visibility: 0.9999275207519531,
      },
      {
        x: 0.4884769916534424,
        y: 0.2162095457315445,
        z: -0.21292133629322052,
        visibility: 0.9998977780342102,
      },
      {
        x: 0.4850315451622009,
        y: 0.21633347868919373,
        z: -0.21289412677288055,
        visibility: 0.9999127984046936,
      },
      {
        x: 0.5149626731872559,
        y: 0.2244565188884735,
        z: -0.11520592868328094,
        visibility: 0.9999207258224487,
      },
      {
        x: 0.4807244837284088,
        y: 0.224821999669075,
        z: -0.09811467677354813,
        visibility: 0.9998325705528259,
      },
      {
        x: 0.5045341849327087,
        y: 0.24781647324562073,
        z: -0.19633792340755463,
        visibility: 0.9999630451202393,
      },
      {
        x: 0.4909432828426361,
        y: 0.24752148985862732,
        z: -0.19165442883968353,
        visibility: 0.9999520182609558,
      },
      {
        x: 0.5434783697128296,
        y: 0.3295239210128784,
        z: -0.0703633725643158,
        visibility: 0.9999175071716309,
      },
      {
        x: 0.454012006521225,
        y: 0.3025805354118347,
        z: -0.028211841359734535,
        visibility: 0.999718427658081,
      },
      {
        x: 0.5576056241989136,
        y: 0.4427175223827362,
        z: -0.05950925499200821,
        visibility: 0.9950652122497559,
      },
      {
        x: 0.39463937282562256,
        y: 0.2756492495536804,
        z: -0.1197277083992958,
        visibility: 0.998409628868103,
      },
      {
        x: 0.5390400290489197,
        y: 0.5348513126373291,
        z: -0.11391798406839371,
        visibility: 0.98505038022995,
      },
      {
        x: 0.4104812741279602,
        y: 0.1639423370361328,
        z: -0.26281416416168213,
        visibility: 0.9885273575782776,
      },
      {
        x: 0.5324201583862305,
        y: 0.5632613897323608,
        z: -0.1408047378063202,
        visibility: 0.9539669752120972,
      },
      {
        x: 0.41559743881225586,
        y: 0.13816484808921814,
        z: -0.30710935592651367,
        visibility: 0.9491391181945801,
      },
      {
        x: 0.5266352891921997,
        y: 0.5515863299369812,
        z: -0.16326214373111725,
        visibility: 0.9533377289772034,
      },
      {
        x: 0.4242893159389496,
        y: 0.13682344555854797,
        z: -0.298806369304657,
        visibility: 0.9423041939735413,
      },
      {
        x: 0.5276982188224792,
        y: 0.5423997044563293,
        z: -0.12365062534809113,
        visibility: 0.9377788305282593,
      },
      {
        x: 0.4248191714286804,
        y: 0.1477193981409073,
        z: -0.2677810490131378,
        visibility: 0.936815083026886,
      },
      {
        x: 0.5178188681602478,
        y: 0.565967321395874,
        z: -0.010501368902623653,
        visibility: 0.9995681643486023,
      },
      {
        x: 0.4672016203403473,
        y: 0.5650444626808167,
        z: 0.010428247973322868,
        visibility: 0.9997899532318115,
      },
      {
        x: 0.5221927762031555,
        y: 0.7438256144523621,
        z: 0.026125386357307434,
        visibility: 0.9959292411804199,
      },
      {
        x: 0.46163448691368103,
        y: 0.7418742775917053,
        z: 0.037834860384464264,
        visibility: 0.9962940812110901,
      },
      {
        x: 0.5269311666488647,
        y: 0.8805884718894958,
        z: 0.21452370285987854,
        visibility: 0.993043839931488,
      },
      {
        x: 0.45533686876296997,
        y: 0.8977404236793518,
        z: 0.1984023153781891,
        visibility: 0.9952543377876282,
      },
      {
        x: 0.5185924768447876,
        y: 0.9017726182937622,
        z: 0.22689418494701385,
        visibility: 0.9398719072341919,
      },
      {
        x: 0.46281060576438904,
        y: 0.91937255859375,
        z: 0.2083965539932251,
        visibility: 0.940251350402832,
      },
      {
        x: 0.5380095839500427,
        y: 0.9386659264564514,
        z: 0.11476276069879532,
        visibility: 0.9878759384155273,
      },
      {
        x: 0.4339292049407959,
        y: 0.9450003504753113,
        z: 0.09333337098360062,
        visibility: 0.9904749393463135,
      },
    ],
  };
  const bothHandsRaised: Pick<Results, 'poseLandmarks'> = {
    poseLandmarks: [
      {
        x: 0.49440374970436096,
        y: 0.24003104865550995,
        z: -0.1983078271150589,
        visibility: 0.9999892115592957,
      },
      {
        x: 0.49910497665405273,
        y: 0.22302967309951782,
        z: -0.17560812830924988,
        visibility: 0.9999696016311646,
      },
      {
        x: 0.5026071667671204,
        y: 0.22308553755283356,
        z: -0.17556177079677582,
        visibility: 0.9999593496322632,
      },
      {
        x: 0.5058739185333252,
        y: 0.2232344150543213,
        z: -0.17563661932945251,
        visibility: 0.9999616742134094,
      },
      {
        x: 0.48916250467300415,
        y: 0.22349368035793304,
        z: -0.1732691079378128,
        visibility: 0.9999725222587585,
      },
      {
        x: 0.4859205186367035,
        y: 0.22364163398742676,
        z: -0.1732785850763321,
        visibility: 0.9999644160270691,
      },
      {
        x: 0.48265528678894043,
        y: 0.22386008501052856,
        z: -0.17326773703098297,
        visibility: 0.9999714493751526,
      },
      {
        x: 0.5105602145195007,
        y: 0.22844409942626953,
        z: -0.06676111370325089,
        visibility: 0.9999282956123352,
      },
      {
        x: 0.4784480035305023,
        y: 0.2280326783657074,
        z: -0.05444210022687912,
        visibility: 0.9999642372131348,
      },
      {
        x: 0.5004037022590637,
        y: 0.2580989897251129,
        z: -0.1593443900346756,
        visibility: 0.9999690651893616,
      },
      {
        x: 0.4886542856693268,
        y: 0.2596984803676605,
        z: -0.15597428381443024,
        visibility: 0.9999680519104004,
      },
      {
        x: 0.5386706590652466,
        y: 0.30296093225479126,
        z: -0.018022390082478523,
        visibility: 0.9998415112495422,
      },
      {
        x: 0.4579530656337738,
        y: 0.3045037090778351,
        z: -0.011663421988487244,
        visibility: 0.9996836185455322,
      },
      {
        x: 0.5854870676994324,
        y: 0.23608283698558807,
        z: -0.04949953034520149,
        visibility: 0.9976803064346313,
      },
      {
        x: 0.4097667336463928,
        y: 0.23032349348068237,
        z: -0.053993284702301025,
        visibility: 0.9985104203224182,
      },
      {
        x: 0.5928186178207397,
        y: 0.1310805380344391,
        z: -0.12712202966213226,
        visibility: 0.9944955706596375,
      },
      {
        x: 0.4014742970466614,
        y: 0.12565942108631134,
        z: -0.15957102179527283,
        visibility: 0.9960944652557373,
      },
      {
        x: 0.592455267906189,
        y: 0.10091021656990051,
        z: -0.15713295340538025,
        visibility: 0.9797666668891907,
      },
      {
        x: 0.4001132845878601,
        y: 0.1010236069560051,
        z: -0.20183345675468445,
        visibility: 0.9813620448112488,
      },
      {
        x: 0.5861386060714722,
        y: 0.09616497159004211,
        z: -0.16693781316280365,
        visibility: 0.9785584211349487,
      },
      {
        x: 0.406716912984848,
        y: 0.09489908069372177,
        z: -0.20202167332172394,
        visibility: 0.9792375564575195,
      },
      {
        x: 0.5853010416030884,
        y: 0.10664144903421402,
        z: -0.1369212120771408,
        visibility: 0.9767547249794006,
      },
      {
        x: 0.409699022769928,
        y: 0.10220395028591156,
        z: -0.16770538687705994,
        visibility: 0.9786668419837952,
      },
      {
        x: 0.5218775272369385,
        y: 0.5552467703819275,
        z: -0.009604206308722496,
        visibility: 0.9998719692230225,
      },
      {
        x: 0.4727107882499695,
        y: 0.554606556892395,
        z: 0.00967646948993206,
        visibility: 0.9997474551200867,
      },
      {
        x: 0.5155254006385803,
        y: 0.7426916360855103,
        z: -0.009970038197934628,
        visibility: 0.9955061078071594,
      },
      {
        x: 0.4643945097923279,
        y: 0.7395951747894287,
        z: 0.03247461095452309,
        visibility: 0.9946721792221069,
      },
      {
        x: 0.5063106417655945,
        y: 0.9047375321388245,
        z: 0.11591210216283798,
        visibility: 0.9933951497077942,
      },
      {
        x: 0.4726880192756653,
        y: 0.8650144934654236,
        z: 0.2565058171749115,
        visibility: 0.9830169677734375,
      },
      {
        x: 0.5025266408920288,
        y: 0.923573911190033,
        z: 0.12052979320287704,
        visibility: 0.9220027327537537,
      },
      {
        x: 0.47746118903160095,
        y: 0.8756551146507263,
        z: 0.2725318372249603,
        visibility: 0.8831941485404968,
      },
      {
        x: 0.5084143280982971,
        y: 0.9646869897842407,
        z: -0.013286368921399117,
        visibility: 0.9881863594055176,
      },
      {
        x: 0.4639171063899994,
        y: 0.9368566870689392,
        z: 0.17620807886123657,
        visibility: 0.9780834913253784,
      },
    ],
  };

  beforeEach(() => {
    TestBed.configureTestingModule({});
    service = TestBed.inject(HandTrackerService);
    poseModelAdapter = TestBed.inject(PoseModelAdapter);
    poseModelAdapter.setModel('mediapipe');
  });

  it('should be created', () => {
    expect(service).toBeTruthy();
  });

  it('should enable hand tracking', () => {
    service.enable();
    expect(service.isEnabled).toBeTruthy();
  });

  it('should classify hand', () => {
    expect(service.classify(leftHandRaised as Results).status).toEqual(undefined);

    service.enable();
    expect(service.classify(noHandsRaised as Results).status).toEqual(undefined);
    expect(service.classify(leftHandRaised as Results).status).toEqual('left-hand');
    expect(service.classify(rightHandRaised as Results).status).toEqual('right-hand');
    expect(service.classify(bothHandsRaised as Results).status).toEqual('both-hands');
  });

  it('should check if wrist is visible', () => {
    expect(service._isWristsVisible(noHandsRaised.poseLandmarks)).toEqual(true);
  });

  it('should check if Elbows are visible', () => {
    expect(service._isElbowsVisible(noHandsRaised.poseLandmarks)).toEqual(true);
  });

  it('should check shoulder elbow distance', () => {
    expect(
      service._shoulderElbowYDist(
        leftHandRaised.poseLandmarks[11],
        leftHandRaised.poseLandmarks[12],
        leftHandRaised.poseLandmarks[13],
        leftHandRaised.poseLandmarks[14],
      ),
    ).toEqual('left-hand');

    expect(
      service._shoulderElbowYDist(
        noHandsRaised.poseLandmarks[11],
        noHandsRaised.poseLandmarks[12],
        noHandsRaised.poseLandmarks[13],
        noHandsRaised.poseLandmarks[14],
      ),
    ).toEqual(undefined);

    expect(
      service._shoulderElbowYDist(
        rightHandRaised.poseLandmarks[11],
        rightHandRaised.poseLandmarks[12],
        rightHandRaised.poseLandmarks[13],
        rightHandRaised.poseLandmarks[14],
      ),
    ).toEqual('right-hand');

    expect(
      service._shoulderElbowYDist(
        bothHandsRaised.poseLandmarks[11],
        bothHandsRaised.poseLandmarks[12],
        bothHandsRaised.poseLandmarks[13],
        bothHandsRaised.poseLandmarks[14],
      ),
    ).toEqual('both-hands');
  });

  it('should check shoulder wrist distance', () => {
    expect(
      service._shoulderWristYDist(
        leftHandRaised.poseLandmarks[11],
        leftHandRaised.poseLandmarks[12],
        leftHandRaised.poseLandmarks[15],
        leftHandRaised.poseLandmarks[16],
      ),
    ).toEqual('left-hand');

    expect(
      service._shoulderWristYDist(
        noHandsRaised.poseLandmarks[11],
        noHandsRaised.poseLandmarks[12],
        noHandsRaised.poseLandmarks[15],
        noHandsRaised.poseLandmarks[16],
      ),
    ).toEqual(undefined);

    expect(
      service._shoulderWristYDist(
        rightHandRaised.poseLandmarks[11],
        rightHandRaised.poseLandmarks[12],
        rightHandRaised.poseLandmarks[15],
        rightHandRaised.poseLandmarks[16],
      ),
    ).toEqual('right-hand');

    expect(
      service._shoulderWristYDist(
        bothHandsRaised.poseLandmarks[11],
        bothHandsRaised.poseLandmarks[12],
        bothHandsRaised.poseLandmarks[15],
        bothHandsRaised.poseLandmarks[16],
      ),
    ).toEqual('both-hands');
  });

  it('should disable hand tracking', () => {
    service.disable();
    expect(service.isEnabled).toBeFalsy();
  });
});
